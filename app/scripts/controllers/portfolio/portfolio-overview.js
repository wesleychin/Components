'use strict';

angular.module('componentsApp')
.controller('PortfolioOverviewCtrl', function ($scope, $http, $timeout, $filter, $templateCache) 
{
	$scope.holdings = [{"AccountId":511014,"InstrumentKey":{"MarketTypeId":11,"InstrumentCode":"AFHcfd"},"UnderlyingInstrumentKey":{"MarketTypeId":18,"InstrumentCode":"AFH"},"TotalQuantity":7,"PendingQuantity":0,"UnitCost":8.269859,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":13.02,"CloseoutOptionId":0,"TotalCost":57.889013,"MarketToMarketPrice":null,"CurrentUnitPrice":9.85,"CurrentTotalPrice":68.95,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":1.580141,"TotalMovementPercentage":19.107230244191587,"TotalProfitAndLoss":11.060987,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"8.27","InitialMarginFormatted":"13","TotalCostFormatted":"58","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"9.85","CurrentTotalPriceFormatted":"69","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"1.58","TotalMovementPercentageFormatted":"+19.1%","TotalProfitAndLossFormatted":"11","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":11,"InstrumentCode":"CMLcfd"},"UnderlyingInstrumentKey":{"MarketTypeId":18,"InstrumentCode":"CML"},"TotalQuantity":2,"PendingQuantity":0,"UnitCost":103.125292,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":27.96,"CloseoutOptionId":0,"TotalCost":206.250584,"MarketToMarketPrice":null,"CurrentUnitPrice":91.8,"CurrentTotalPrice":183.6,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":-11.325292,"TotalMovementPercentage":-10.982070237435062,"TotalProfitAndLoss":-22.650584,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"103.13","InitialMarginFormatted":"28","TotalCostFormatted":"206","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"91.80","CurrentTotalPriceFormatted":"184","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"-11.33","TotalMovementPercentageFormatted":"-11.0%","TotalProfitAndLossFormatted":"-23","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":11,"InstrumentCode":"OMLcfd"},"UnderlyingInstrumentKey":{"MarketTypeId":18,"InstrumentCode":"OML"},"TotalQuantity":-4,"PendingQuantity":1,"UnitCost":31.411439,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":14.88,"CloseoutOptionId":0,"TotalCost":125.645756,"MarketToMarketPrice":null,"CurrentUnitPrice":43.04,"CurrentTotalPrice":172.16,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":11.628561,"TotalMovementPercentage":37.020147341864856,"TotalProfitAndLoss":-46.514244,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"(+1)","UnitCostFormatted":"31.41","InitialMarginFormatted":"15","TotalCostFormatted":"126","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"43.04","CurrentTotalPriceFormatted":"172","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"11.63","TotalMovementPercentageFormatted":"+37.0%","TotalProfitAndLossFormatted":"-47","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":11,"InstrumentCode":"REMcfd"},"UnderlyingInstrumentKey":{"MarketTypeId":18,"InstrumentCode":"REM"},"TotalQuantity":29,"PendingQuantity":0,"UnitCost":136.8021651034483,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":743.85,"CloseoutOptionId":0,"TotalCost":3967.262788,"MarketToMarketPrice":null,"CurrentUnitPrice":263,"CurrentTotalPrice":7627,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":126.19783489655173,"TotalMovementPercentage":92.24841931494456,"TotalProfitAndLoss":3659.737212,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"136.80","InitialMarginFormatted":"744","TotalCostFormatted":"3,967","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"263.00","CurrentTotalPriceFormatted":"7,627","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"126.20","TotalMovementPercentageFormatted":"+92.2%","TotalProfitAndLossFormatted":"3,660","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"ACG"},"UnderlyingInstrumentKey":{"MarketTypeId":1,"InstrumentCode":"ACG"},"TotalQuantity":1,"PendingQuantity":0,"UnitCost":19.47,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":19.47,"MarketToMarketPrice":10.81,"CurrentUnitPrice":10.8,"CurrentTotalPrice":10.8,"DailyMovementValue":-0.01,"DailyMovementPercentage":-0.09250693802035154,"DailyProfitAndLoss":-0.01,"TotalMovementValue":-8.67,"TotalMovementPercentage":-44.53004622496148,"TotalProfitAndLoss":-8.67,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"19.47","InitialMarginFormatted":"0","TotalCostFormatted":"19","MarketToMarketPriceFormatted":"10.81","CurrentUnitPriceFormatted":"10.80","CurrentTotalPriceFormatted":"11","DailyMovementValueFormatted":"-0.01","DailyMovementPercentageFormatted":"-0.1%","DailyProfitAndLossFormatted":"-0.01","TotalMovementValueFormatted":"-8.67","TotalMovementPercentageFormatted":"-44.5%","TotalProfitAndLossFormatted":"-9","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"AGL"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":1833,"PendingQuantity":-10,"UnitCost":290.6993242225859,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":532851.8613,"MarketToMarketPrice":188.19,"CurrentUnitPrice":190.33,"CurrentTotalPrice":348874.89,"DailyMovementValue":2.14,"DailyMovementPercentage":1.1371486263882247,"DailyProfitAndLoss":-182154.45,"TotalMovementValue":-100.36932422258593,"TotalMovementPercentage":-34.52685158144159,"TotalProfitAndLoss":-183976.9713,"EncumberingEffects":-4,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"(-10)","UnitCostFormatted":"290.70","InitialMarginFormatted":"0","TotalCostFormatted":"532,852","MarketToMarketPriceFormatted":"188.19","CurrentUnitPriceFormatted":"190.33","CurrentTotalPriceFormatted":"348,875","DailyMovementValueFormatted":"2.14","DailyMovementPercentageFormatted":"+1.1%","DailyProfitAndLossFormatted":"-182,154.45","TotalMovementValueFormatted":"-100.37","TotalMovementPercentageFormatted":"-34.5%","TotalProfitAndLossFormatted":"-183,977","EncumberingEffectsFormatted":"[-4]","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"AQP"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":2002,"PendingQuantity":0,"UnitCost":2.4217032967032965,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":4848.25,"MarketToMarketPrice":1.58,"CurrentUnitPrice":1.58,"CurrentTotalPrice":3163.16,"DailyMovementValue":0,"DailyMovementPercentage":0,"DailyProfitAndLoss":0,"TotalMovementValue":-0.8417032967032967,"TotalMovementPercentage":-34.756664775950085,"TotalProfitAndLoss":-1685.09,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"2.42","InitialMarginFormatted":"0","TotalCostFormatted":"4,848","MarketToMarketPriceFormatted":"1.58","CurrentUnitPriceFormatted":"1.58","CurrentTotalPriceFormatted":"3,163","DailyMovementValueFormatted":"0.00","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"0.00","TotalMovementValueFormatted":"-0.84","TotalMovementPercentageFormatted":"-34.8%","TotalProfitAndLossFormatted":"-1,685","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"BIL"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":3,"PendingQuantity":0,"UnitCost":272.32,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":816.96,"MarketToMarketPrice":251.09,"CurrentUnitPrice":251.19,"CurrentTotalPrice":753.57,"DailyMovementValue":0.1,"DailyMovementPercentage":0.0398263570831176,"DailyProfitAndLoss":0.3,"TotalMovementValue":-21.13,"TotalMovementPercentage":-7.759253819036428,"TotalProfitAndLoss":-63.39,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"272.32","InitialMarginFormatted":"0","TotalCostFormatted":"817","MarketToMarketPriceFormatted":"251.09","CurrentUnitPriceFormatted":"251.19","CurrentTotalPriceFormatted":"754","DailyMovementValueFormatted":"0.10","DailyMovementPercentageFormatted":"+0.0%","DailyProfitAndLossFormatted":"0.30","TotalMovementValueFormatted":"-21.13","TotalMovementPercentageFormatted":"-7.8%","TotalProfitAndLossFormatted":"-63","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"CFR"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":50,"PendingQuantity":0,"UnitCost":88.0888,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":4404.44,"MarketToMarketPrice":102.03,"CurrentUnitPrice":105.64,"CurrentTotalPrice":5282,"DailyMovementValue":3.61,"DailyMovementPercentage":3.5381750465549344,"DailyProfitAndLoss":180.5,"TotalMovementValue":17.5512,"TotalMovementPercentage":19.924439883390395,"TotalProfitAndLoss":877.56,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"88.09","InitialMarginFormatted":"0","TotalCostFormatted":"4,404","MarketToMarketPriceFormatted":"102.03","CurrentUnitPriceFormatted":"105.64","CurrentTotalPriceFormatted":"5,282","DailyMovementValueFormatted":"3.61","DailyMovementPercentageFormatted":"+3.5%","DailyProfitAndLossFormatted":"180.50","TotalMovementValueFormatted":"17.55","TotalMovementPercentageFormatted":"+19.9%","TotalProfitAndLossFormatted":"878","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"ELI"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":100,"PendingQuantity":0,"UnitCost":6.0995,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":609.95,"MarketToMarketPrice":0.9,"CurrentUnitPrice":0.86,"CurrentTotalPrice":86,"DailyMovementValue":-0.04,"DailyMovementPercentage":-4.444444444444445,"DailyProfitAndLoss":-4,"TotalMovementValue":-5.2395,"TotalMovementPercentage":-85.90048364620051,"TotalProfitAndLoss":-523.95,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"6.10","InitialMarginFormatted":"0","TotalCostFormatted":"610","MarketToMarketPriceFormatted":"0.90","CurrentUnitPriceFormatted":"0.86","CurrentTotalPriceFormatted":"86","DailyMovementValueFormatted":"-0.04","DailyMovementPercentageFormatted":"-4.4%","DailyProfitAndLossFormatted":"-4.00","TotalMovementValueFormatted":"-5.24","TotalMovementPercentageFormatted":"-85.9%","TotalProfitAndLossFormatted":"-524","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"ELIN"},"UnderlyingInstrumentKey":{"MarketTypeId":1,"InstrumentCode":"ELIN"},"TotalQuantity":30,"PendingQuantity":0,"UnitCost":null,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":null,"MarketToMarketPrice":null,"CurrentUnitPrice":null,"CurrentTotalPrice":null,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":null,"TotalMovementPercentage":0,"TotalProfitAndLoss":null,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"...","InitialMarginFormatted":"0","TotalCostFormatted":"...","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"...","CurrentTotalPriceFormatted":"...","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"...","TotalMovementPercentageFormatted":"0.0%","TotalProfitAndLossFormatted":"...","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":true},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"FSR"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":8,"PendingQuantity":0,"UnitCost":36.1225,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":288.98,"MarketToMarketPrice":52.3,"CurrentUnitPrice":51.6,"CurrentTotalPrice":412.8,"DailyMovementValue":-0.7,"DailyMovementPercentage":-1.338432122370937,"DailyProfitAndLoss":-5.6,"TotalMovementValue":15.4775,"TotalMovementPercentage":42.84725586545782,"TotalProfitAndLoss":123.82,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"36.12","InitialMarginFormatted":"0","TotalCostFormatted":"289","MarketToMarketPriceFormatted":"52.30","CurrentUnitPriceFormatted":"51.60","CurrentTotalPriceFormatted":"413","DailyMovementValueFormatted":"-0.70","DailyMovementPercentageFormatted":"-1.3%","DailyProfitAndLossFormatted":"-5.60","TotalMovementValueFormatted":"15.48","TotalMovementPercentageFormatted":"+42.8%","TotalProfitAndLossFormatted":"124","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"HCI"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":10,"PendingQuantity":0,"UnitCost":85.8,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":858,"MarketToMarketPrice":155.58,"CurrentUnitPrice":159.09,"CurrentTotalPrice":1590.9,"DailyMovementValue":3.51,"DailyMovementPercentage":2.2560740455071344,"DailyProfitAndLoss":35.1,"TotalMovementValue":73.29,"TotalMovementPercentage":85.41958041958043,"TotalProfitAndLoss":732.9,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"85.80","InitialMarginFormatted":"0","TotalCostFormatted":"858","MarketToMarketPriceFormatted":"155.58","CurrentUnitPriceFormatted":"159.09","CurrentTotalPriceFormatted":"1,591","DailyMovementValueFormatted":"3.51","DailyMovementPercentageFormatted":"+2.3%","DailyProfitAndLossFormatted":"35.10","TotalMovementValueFormatted":"73.29","TotalMovementPercentageFormatted":"+85.4%","TotalProfitAndLossFormatted":"733","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"MDC"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":11,"PendingQuantity":0,"UnitCost":47.941818181818185,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":527.36,"MarketToMarketPrice":101.83,"CurrentUnitPrice":104.25,"CurrentTotalPrice":1146.75,"DailyMovementValue":2.42,"DailyMovementPercentage":2.3765098693901603,"DailyProfitAndLoss":26.62,"TotalMovementValue":56.308181818181815,"TotalMovementPercentage":117.4510770631068,"TotalProfitAndLoss":619.39,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"47.94","InitialMarginFormatted":"0","TotalCostFormatted":"527","MarketToMarketPriceFormatted":"101.83","CurrentUnitPriceFormatted":"104.25","CurrentTotalPriceFormatted":"1,147","DailyMovementValueFormatted":"2.42","DailyMovementPercentageFormatted":"+2.4%","DailyProfitAndLossFormatted":"26.62","TotalMovementValueFormatted":"56.31","TotalMovementPercentageFormatted":"+117.5%","TotalProfitAndLossFormatted":"619","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"MMI"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":4,"PendingQuantity":0,"UnitCost":24.3325,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":97.33,"MarketToMarketPrice":29.65,"CurrentUnitPrice":29.3,"CurrentTotalPrice":117.2,"DailyMovementValue":-0.35,"DailyMovementPercentage":-1.1804384485666104,"DailyProfitAndLoss":-1.4,"TotalMovementValue":4.9675,"TotalMovementPercentage":20.415082708311928,"TotalProfitAndLoss":19.87,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"24.33","InitialMarginFormatted":"0","TotalCostFormatted":"97","MarketToMarketPriceFormatted":"29.65","CurrentUnitPriceFormatted":"29.30","CurrentTotalPriceFormatted":"117","DailyMovementValueFormatted":"-0.35","DailyMovementPercentageFormatted":"-1.2%","DailyProfitAndLossFormatted":"-1.40","TotalMovementValueFormatted":"4.97","TotalMovementPercentageFormatted":"+20.4%","TotalProfitAndLossFormatted":"20","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"MNK"},"UnderlyingInstrumentKey":{"MarketTypeId":1,"InstrumentCode":"MNK "},"TotalQuantity":12,"PendingQuantity":0,"UnitCost":2.805,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":33.66,"MarketToMarketPrice":9.24,"CurrentUnitPrice":4.76,"CurrentTotalPrice":57.12,"DailyMovementValue":-4.48,"DailyMovementPercentage":-48.484848484848484,"DailyProfitAndLoss":-53.76,"TotalMovementValue":1.955,"TotalMovementPercentage":69.6969696969697,"TotalProfitAndLoss":23.46,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"2.80","InitialMarginFormatted":"0","TotalCostFormatted":"34","MarketToMarketPriceFormatted":"9.24","CurrentUnitPriceFormatted":"4.76","CurrentTotalPriceFormatted":"57","DailyMovementValueFormatted":"-4.48","DailyMovementPercentageFormatted":"-48.5%","DailyProfitAndLossFormatted":"-53.76","TotalMovementValueFormatted":"1.96","TotalMovementPercentageFormatted":"+69.7%","TotalProfitAndLossFormatted":"23","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"MTN"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":4779,"PendingQuantity":0,"UnitCost":250.66895451977402,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":1197946.93365,"MarketToMarketPrice":211.71,"CurrentUnitPrice":212.84,"CurrentTotalPrice":1017162.36,"DailyMovementValue":1.13,"DailyMovementPercentage":0.5337489962684805,"DailyProfitAndLoss":-177682.14,"TotalMovementValue":-37.82895451977401,"TotalMovementPercentage":-15.091200500774368,"TotalProfitAndLoss":-180784.57365,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"250.67","InitialMarginFormatted":"0","TotalCostFormatted":"1,197,947","MarketToMarketPriceFormatted":"211.71","CurrentUnitPriceFormatted":"212.84","CurrentTotalPriceFormatted":"1,017,162","DailyMovementValueFormatted":"1.13","DailyMovementPercentageFormatted":"+0.5%","DailyProfitAndLossFormatted":"-177,682.14","TotalMovementValueFormatted":"-37.83","TotalMovementPercentageFormatted":"-15.1%","TotalProfitAndLossFormatted":"-180,785","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"MUR"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":2,"PendingQuantity":0,"UnitCost":27.855,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":55.71,"MarketToMarketPrice":13.63,"CurrentUnitPrice":13.15,"CurrentTotalPrice":26.3,"DailyMovementValue":-0.48,"DailyMovementPercentage":-3.521643433602348,"DailyProfitAndLoss":-0.96,"TotalMovementValue":-14.705,"TotalMovementPercentage":-52.79124035182193,"TotalProfitAndLoss":-29.41,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"27.86","InitialMarginFormatted":"0","TotalCostFormatted":"56","MarketToMarketPriceFormatted":"13.63","CurrentUnitPriceFormatted":"13.15","CurrentTotalPriceFormatted":"26","DailyMovementValueFormatted":"-0.48","DailyMovementPercentageFormatted":"-3.5%","DailyProfitAndLossFormatted":"-0.96","TotalMovementValueFormatted":"-14.70","TotalMovementPercentageFormatted":"-52.8%","TotalProfitAndLossFormatted":"-29","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"NED"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":1,"PendingQuantity":0,"UnitCost":190.51,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":190.51,"MarketToMarketPrice":236.5,"CurrentUnitPrice":234.58,"CurrentTotalPrice":234.58,"DailyMovementValue":-1.92,"DailyMovementPercentage":-0.8118393234672304,"DailyProfitAndLoss":-1.92,"TotalMovementValue":44.07,"TotalMovementPercentage":23.132643955697862,"TotalProfitAndLoss":44.07,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"190.51","InitialMarginFormatted":"0","TotalCostFormatted":"191","MarketToMarketPriceFormatted":"236.50","CurrentUnitPriceFormatted":"234.58","CurrentTotalPriceFormatted":"235","DailyMovementValueFormatted":"-1.92","DailyMovementPercentageFormatted":"-0.8%","DailyProfitAndLossFormatted":"-1.92","TotalMovementValueFormatted":"44.07","TotalMovementPercentageFormatted":"+23.1%","TotalProfitAndLossFormatted":"44","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"NPN"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":-450,"PendingQuantity":0,"UnitCost":552.25,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":248512.5,"MarketToMarketPrice":1797.04,"CurrentUnitPrice":1775.96,"CurrentTotalPrice":799182,"DailyMovementValue":-21.08,"DailyMovementPercentage":-1.173040110403775,"DailyProfitAndLoss":-550669.5,"TotalMovementValue":1223.71,"TotalMovementPercentage":221.58623811679493,"TotalProfitAndLoss":-550669.5,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"552.25","InitialMarginFormatted":"0","TotalCostFormatted":"248,512","MarketToMarketPriceFormatted":"1,797.04","CurrentUnitPriceFormatted":"1,775.96","CurrentTotalPriceFormatted":"799,182","DailyMovementValueFormatted":"-21.08","DailyMovementPercentageFormatted":"-1.2%","DailyProfitAndLossFormatted":"-550,669.50","TotalMovementValueFormatted":"1,223.71","TotalMovementPercentageFormatted":"+221.6%","TotalProfitAndLossFormatted":"-550,670","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"OML"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":4,"PendingQuantity":0,"UnitCost":31.1525,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":124.61,"MarketToMarketPrice":39.53,"CurrentUnitPrice":40.21,"CurrentTotalPrice":160.84,"DailyMovementValue":0.68,"DailyMovementPercentage":1.7202124968378447,"DailyProfitAndLoss":2.72,"TotalMovementValue":9.0575,"TotalMovementPercentage":29.074713104887252,"TotalProfitAndLoss":36.23,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"31.15","InitialMarginFormatted":"0","TotalCostFormatted":"125","MarketToMarketPriceFormatted":"39.53","CurrentUnitPriceFormatted":"40.21","CurrentTotalPriceFormatted":"161","DailyMovementValueFormatted":"0.68","DailyMovementPercentageFormatted":"+1.7%","DailyProfitAndLossFormatted":"2.72","TotalMovementValueFormatted":"9.06","TotalMovementPercentageFormatted":"+29.1%","TotalProfitAndLossFormatted":"36","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"RDF"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":10,"PendingQuantity":0,"UnitCost":11.836,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":118.36,"MarketToMarketPrice":10.1,"CurrentUnitPrice":10.07,"CurrentTotalPrice":100.7,"DailyMovementValue":-0.03,"DailyMovementPercentage":-0.297029702970297,"DailyProfitAndLoss":-0.3,"TotalMovementValue":-1.766,"TotalMovementPercentage":-14.9205812774586,"TotalProfitAndLoss":-17.66,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"11.84","InitialMarginFormatted":"0","TotalCostFormatted":"118","MarketToMarketPriceFormatted":"10.10","CurrentUnitPriceFormatted":"10.07","CurrentTotalPriceFormatted":"101","DailyMovementValueFormatted":"-0.03","DailyMovementPercentageFormatted":"-0.3%","DailyProfitAndLossFormatted":"-0.30","TotalMovementValueFormatted":"-1.77","TotalMovementPercentageFormatted":"-14.9%","TotalProfitAndLossFormatted":"-18","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"S05"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":10,"PendingQuantity":0,"UnitCost":101.49602,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":15,"CloseoutOptionId":0,"TotalCost":1014.9602,"MarketToMarketPrice":null,"CurrentUnitPrice":null,"CurrentTotalPrice":null,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":null,"TotalMovementPercentage":0,"TotalProfitAndLoss":null,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"101.50","InitialMarginFormatted":"15","TotalCostFormatted":"1,015","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"...","CurrentTotalPriceFormatted":"...","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"...","TotalMovementPercentageFormatted":"0.0%","TotalProfitAndLossFormatted":"...","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":true},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"SBK"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":2,"PendingQuantity":0,"UnitCost":114.29,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":228.58,"MarketToMarketPrice":157.5,"CurrentUnitPrice":154.82,"CurrentTotalPrice":309.64,"DailyMovementValue":-2.68,"DailyMovementPercentage":-1.7015873015873015,"DailyProfitAndLoss":-5.36,"TotalMovementValue":40.53,"TotalMovementPercentage":35.462420159244026,"TotalProfitAndLoss":81.06,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"114.29","InitialMarginFormatted":"0","TotalCostFormatted":"229","MarketToMarketPriceFormatted":"157.50","CurrentUnitPriceFormatted":"154.82","CurrentTotalPriceFormatted":"310","DailyMovementValueFormatted":"-2.68","DailyMovementPercentageFormatted":"-1.7%","DailyProfitAndLossFormatted":"-5.36","TotalMovementValueFormatted":"40.53","TotalMovementPercentageFormatted":"+35.5%","TotalProfitAndLossFormatted":"81","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"SHF"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":5,"PendingQuantity":0,"UnitCost":61.334,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":306.67,"MarketToMarketPrice":71.71,"CurrentUnitPrice":72.08,"CurrentTotalPrice":360.4,"DailyMovementValue":0.37,"DailyMovementPercentage":0.5159670896667132,"DailyProfitAndLoss":1.85,"TotalMovementValue":10.746,"TotalMovementPercentage":17.520461734111585,"TotalProfitAndLoss":53.73,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"61.33","InitialMarginFormatted":"0","TotalCostFormatted":"307","MarketToMarketPriceFormatted":"71.71","CurrentUnitPriceFormatted":"72.08","CurrentTotalPriceFormatted":"360","DailyMovementValueFormatted":"0.37","DailyMovementPercentageFormatted":"+0.5%","DailyProfitAndLossFormatted":"1.85","TotalMovementValueFormatted":"10.75","TotalMovementPercentageFormatted":"+17.5%","TotalProfitAndLossFormatted":"54","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"SHP"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":1,"PendingQuantity":0,"UnitCost":186.59,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":186.59,"MarketToMarketPrice":158.02,"CurrentUnitPrice":156.19,"CurrentTotalPrice":156.19,"DailyMovementValue":-1.83,"DailyMovementPercentage":-1.158081255537274,"DailyProfitAndLoss":-1.83,"TotalMovementValue":-30.4,"TotalMovementPercentage":-16.292405809528915,"TotalProfitAndLoss":-30.4,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"186.59","InitialMarginFormatted":"0","TotalCostFormatted":"187","MarketToMarketPriceFormatted":"158.02","CurrentUnitPriceFormatted":"156.19","CurrentTotalPriceFormatted":"156","DailyMovementValueFormatted":"-1.83","DailyMovementPercentageFormatted":"-1.2%","DailyProfitAndLossFormatted":"-1.83","TotalMovementValueFormatted":"-30.40","TotalMovementPercentageFormatted":"-16.3%","TotalProfitAndLossFormatted":"-30","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"SLM"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":10,"PendingQuantity":0,"UnitCost":52.965,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":529.65,"MarketToMarketPrice":67.04,"CurrentUnitPrice":68.33,"CurrentTotalPrice":683.3,"DailyMovementValue":1.29,"DailyMovementPercentage":1.9242243436754176,"DailyProfitAndLoss":12.9,"TotalMovementValue":15.365,"TotalMovementPercentage":29.009723402246767,"TotalProfitAndLoss":153.65,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"52.96","InitialMarginFormatted":"0","TotalCostFormatted":"530","MarketToMarketPriceFormatted":"67.04","CurrentUnitPriceFormatted":"68.33","CurrentTotalPriceFormatted":"683","DailyMovementValueFormatted":"1.29","DailyMovementPercentageFormatted":"+1.9%","DailyProfitAndLossFormatted":"12.90","TotalMovementValueFormatted":"15.36","TotalMovementPercentageFormatted":"+29.0%","TotalProfitAndLossFormatted":"154","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"SOL"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":92,"PendingQuantity":0,"UnitCost":633.0569268152174,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":58241.237267,"MarketToMarketPrice":425.5,"CurrentUnitPrice":419.44,"CurrentTotalPrice":38588.48,"DailyMovementValue":-6.06,"DailyMovementPercentage":-1.4242068155111633,"DailyProfitAndLoss":-44162.52,"TotalMovementValue":-213.6169268152174,"TotalMovementPercentage":-33.74371525952356,"TotalProfitAndLoss":-19652.757267,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"633.06","InitialMarginFormatted":"0","TotalCostFormatted":"58,241","MarketToMarketPriceFormatted":"425.50","CurrentUnitPriceFormatted":"419.44","CurrentTotalPriceFormatted":"38,588","DailyMovementValueFormatted":"-6.06","DailyMovementPercentageFormatted":"-1.4%","DailyProfitAndLossFormatted":"-44,162.52","TotalMovementValueFormatted":"-213.62","TotalMovementPercentageFormatted":"-33.7%","TotalProfitAndLossFormatted":"-19,653","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"STX40"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":13,"PendingQuantity":0,"UnitCost":46.418461538461536,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":603.44,"MarketToMarketPrice":45.68,"CurrentUnitPrice":45.93,"CurrentTotalPrice":597.09,"DailyMovementValue":0.25,"DailyMovementPercentage":0.5472854640980735,"DailyProfitAndLoss":3.25,"TotalMovementValue":-0.48846153846153845,"TotalMovementPercentage":-1.0523001458305714,"TotalProfitAndLoss":-6.35,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"46.42","InitialMarginFormatted":"0","TotalCostFormatted":"603","MarketToMarketPriceFormatted":"45.68","CurrentUnitPriceFormatted":"45.93","CurrentTotalPriceFormatted":"597","DailyMovementValueFormatted":"0.25","DailyMovementPercentageFormatted":"+0.5%","DailyProfitAndLossFormatted":"3.25","TotalMovementValueFormatted":"-0.49","TotalMovementPercentageFormatted":"-1.1%","TotalProfitAndLossFormatted":"-6","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"TBS"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":2,"PendingQuantity":0,"UnitCost":314.25,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":628.5,"MarketToMarketPrice":273.6,"CurrentUnitPrice":275,"CurrentTotalPrice":550,"DailyMovementValue":1.4,"DailyMovementPercentage":0.5116959064327485,"DailyProfitAndLoss":2.8,"TotalMovementValue":-39.25,"TotalMovementPercentage":-12.49005568814638,"TotalProfitAndLoss":-78.5,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"314.25","InitialMarginFormatted":"0","TotalCostFormatted":"628","MarketToMarketPriceFormatted":"273.60","CurrentUnitPriceFormatted":"275.00","CurrentTotalPriceFormatted":"550","DailyMovementValueFormatted":"1.40","DailyMovementPercentageFormatted":"+0.5%","DailyProfitAndLossFormatted":"2.80","TotalMovementValueFormatted":"-39.25","TotalMovementPercentageFormatted":"-12.5%","TotalProfitAndLossFormatted":"-78","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"TFG"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":5,"PendingQuantity":0,"UnitCost":102.002,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":510.01,"MarketToMarketPrice":154.2,"CurrentUnitPrice":148.1,"CurrentTotalPrice":740.5,"DailyMovementValue":-6.1,"DailyMovementPercentage":-3.955901426718547,"DailyProfitAndLoss":-30.5,"TotalMovementValue":46.098,"TotalMovementPercentage":45.193231505264606,"TotalProfitAndLoss":230.49,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"102.00","InitialMarginFormatted":"0","TotalCostFormatted":"510","MarketToMarketPriceFormatted":"154.20","CurrentUnitPriceFormatted":"148.10","CurrentTotalPriceFormatted":"740","DailyMovementValueFormatted":"-6.10","DailyMovementPercentageFormatted":"-4.0%","DailyProfitAndLossFormatted":"-30.50","TotalMovementValueFormatted":"46.10","TotalMovementPercentageFormatted":"+45.2%","TotalProfitAndLossFormatted":"230","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"VOD"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":5,"PendingQuantity":0,"UnitCost":118.282,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":591.41,"MarketToMarketPrice":127.23,"CurrentUnitPrice":128,"CurrentTotalPrice":640,"DailyMovementValue":0.77,"DailyMovementPercentage":0.6052031753517252,"DailyProfitAndLoss":3.85,"TotalMovementValue":9.718,"TotalMovementPercentage":8.215958472125937,"TotalProfitAndLoss":48.59,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"118.28","InitialMarginFormatted":"0","TotalCostFormatted":"591","MarketToMarketPriceFormatted":"127.23","CurrentUnitPriceFormatted":"128.00","CurrentTotalPriceFormatted":"640","DailyMovementValueFormatted":"0.77","DailyMovementPercentageFormatted":"+0.6%","DailyProfitAndLossFormatted":"3.85","TotalMovementValueFormatted":"9.72","TotalMovementPercentageFormatted":"+8.2%","TotalProfitAndLossFormatted":"49","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"WEA"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":1000,"PendingQuantity":0,"UnitCost":0.13276,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":132.76,"MarketToMarketPrice":0.1,"CurrentUnitPrice":0.12,"CurrentTotalPrice":120,"DailyMovementValue":0.02,"DailyMovementPercentage":20,"DailyProfitAndLoss":20,"TotalMovementValue":-0.01276,"TotalMovementPercentage":-9.611328713467913,"TotalProfitAndLoss":-12.76,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"0.13","InitialMarginFormatted":"0","TotalCostFormatted":"133","MarketToMarketPriceFormatted":"0.10","CurrentUnitPriceFormatted":"0.12","CurrentTotalPriceFormatted":"120","DailyMovementValueFormatted":"0.02","DailyMovementPercentageFormatted":"+20.0%","DailyProfitAndLossFormatted":"20.00","TotalMovementValueFormatted":"-0.01","TotalMovementPercentageFormatted":"-9.6%","TotalProfitAndLossFormatted":"-13","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"WHL"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":6,"PendingQuantity":0,"UnitCost":65.995,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":395.97,"MarketToMarketPrice":90.1,"CurrentUnitPrice":89.4,"CurrentTotalPrice":536.4,"DailyMovementValue":-0.7,"DailyMovementPercentage":-0.776914539400666,"DailyProfitAndLoss":-4.2,"TotalMovementValue":23.405,"TotalMovementPercentage":35.46480793999545,"TotalProfitAndLoss":140.43,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"66.00","InitialMarginFormatted":"0","TotalCostFormatted":"396","MarketToMarketPriceFormatted":"90.10","CurrentUnitPriceFormatted":"89.40","CurrentTotalPriceFormatted":"536","DailyMovementValueFormatted":"-0.70","DailyMovementPercentageFormatted":"-0.8%","DailyProfitAndLossFormatted":"-4.20","TotalMovementValueFormatted":"23.40","TotalMovementPercentageFormatted":"+35.5%","TotalProfitAndLossFormatted":"140","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":18,"InstrumentCode":"ZED"},"UnderlyingInstrumentKey":{"MarketTypeId":0,"InstrumentCode":""},"TotalQuantity":100,"PendingQuantity":0,"UnitCost":4.0287,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":402.87,"MarketToMarketPrice":8.4,"CurrentUnitPrice":8.24,"CurrentTotalPrice":824,"DailyMovementValue":-0.16,"DailyMovementPercentage":-1.9047619047619049,"DailyProfitAndLoss":-16,"TotalMovementValue":4.2113,"TotalMovementPercentage":104.5324794598754,"TotalProfitAndLoss":421.13,"EncumberingEffects":0,"BidRulingTypeId":1,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"4.03","InitialMarginFormatted":"0","TotalCostFormatted":"403","MarketToMarketPriceFormatted":"8.40","CurrentUnitPriceFormatted":"8.24","CurrentTotalPriceFormatted":"824","DailyMovementValueFormatted":"-0.16","DailyMovementPercentageFormatted":"-1.9%","DailyProfitAndLossFormatted":"-16.00","TotalMovementValueFormatted":"4.21","TotalMovementPercentageFormatted":"+104.5%","TotalProfitAndLossFormatted":"421","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":false},{"AccountId":511014,"InstrumentKey":{"MarketTypeId":20,"InstrumentCode":"AGL CC 20 Mar 2015 24000"},"UnderlyingInstrumentKey":{"MarketTypeId":18,"InstrumentCode":"AGL"},"TotalQuantity":4,"PendingQuantity":0,"UnitCost":18.245571,"UnderlyingRatio":1,"PriceBasisId":0,"InitialMargin":0,"CloseoutOptionId":0,"TotalCost":-72.982284,"MarketToMarketPrice":null,"CurrentUnitPrice":null,"CurrentTotalPrice":null,"DailyMovementValue":null,"DailyMovementPercentage":0,"DailyProfitAndLoss":null,"TotalMovementValue":null,"TotalMovementPercentage":0,"TotalProfitAndLoss":null,"EncumberingEffects":0,"BidRulingTypeId":2,"PercentageOfPortfolio":0,"PendingQuantityFormatted":"","UnitCostFormatted":"18.25","InitialMarginFormatted":"0","TotalCostFormatted":"-73","MarketToMarketPriceFormatted":"...","CurrentUnitPriceFormatted":"...","CurrentTotalPriceFormatted":"...","DailyMovementValueFormatted":"...","DailyMovementPercentageFormatted":"0.0%","DailyProfitAndLossFormatted":"...","TotalMovementValueFormatted":"...","TotalMovementPercentageFormatted":"0.0%","TotalProfitAndLossFormatted":"...","EncumberingEffectsFormatted":"","PercentageOfPortfolioFormatted":"0.00%","CloseoutOptionIdFormatted":"N/A","HasError":true}];

	$scope.portfolioOverviewGrid = {
        gridOptions: {
            sortable: true,
            reorderable: true,
            selectable: 'row',
            height: kendo.support.screenHeight > 600 ? kendo.support.screenHeight * 0.5 : 300,
            detailExpand: function (e) {
                this.collapseRow(this.tbody.find(' > tr.k-master-row').not(e.masterRow));
                var dataItem = e.detailRow.data().$scope.dataItem;
            },
            change: function () {

                var selectedRows = this.select();
                if (selectedRows.length) {
                    var firstSelect = selectedRows[0];
                    var detailIsOpen = firstSelect.nextElementSibling &&
                        firstSelect.nextElementSibling.classList &&
                        firstSelect.nextElementSibling.classList.contains('k-detail-row') &&
                        firstSelect.nextElementSibling.style.display !== 'none';

                    if (detailIsOpen) {
                        this.collapseRow(firstSelect);
                        this.clearSelection();
                    } else {
                        this.expandRow(firstSelect);
                    }
                }
            }
        },
        columnsBound: false,
		columns: [{
			title: 'Instrument',
			headerAttributes: {
				'class': 'center-align-table-text'
			},
			canHide: false,
			columns: [{
				title: 'Code',
				field: 'InstrumentKey.InstrumentCode',
				template: '<div class="text-blue">#= InstrumentKey.InstrumentCode # <span class="error-icon">&nbsp;<i class="fa fa-exclamation-circle text-red"></i></span></div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}, {
				title: 'Quantity (pending)',
				field: 'TotalQuantity',
				template: '<div class="right">#= TotalQuantity #</div>#if (PendingQuantity !== 0) { if (PendingQuantity > 0) { # <br/><div class="text-green right">#= PendingQuantityFormatted #</div> # } else { # <br/><div class="text-red right">#= PendingQuantityFormatted #</div> # }}# #if (EncumberingEffects !== 0) { if (EncumberingEffects > 0) { # <br/><div class="text-green right">#= EncumberingEffectsFormatted #</div> # } else { # <br/><div class="text-red right">#= EncumberingEffectsFormatted #</div> # }}#',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}]
		}, {
			title: 'Cost',
			headerAttributes: {
				'class': 'center-align-table-text'
			},
			canHide: true,
			columns: [{
				title: 'Unit R',
				field: 'UnitCost',
				template: '<div class="right">#= UnitCostFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}, {
				title: 'Total R',
				field: 'TotalCost',
				template: '<div class="right">#= TotalCostFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.CostTotalFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}]
		}, {
			title: 'Previous close / MTM R',
			field: 'MarketToMarketPrice',
			template: '<div class="right">#= MarketToMarketPriceFormatted #</div>',
			headerAttributes: {
				'class': 'right-align-table-text'
			},
			attributes: {
				'class': '#= HasError ? "error" : "" #'
			},
			canHide: true
		}, {
			title: 'Current/Bid',
			headerAttributes: {
				'class': 'center-align-table-text'
			},
			canHide: false,
			columns: [{
				title: 'Price R',
				field: 'CurrentUnitPrice',
				template: '<div class="right">#= CurrentUnitPriceFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}, {
				title: 'Total R',
				field: 'CurrentTotalPrice',
				template: '<div class="right">#= CurrentTotalPriceFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.CurrentBidTotalFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}]
		}, {
			title: 'Today\'s movement',
			headerAttributes: {
				'class': 'center-align-table-text'
			},
			canHide: true,
			columns: [{
				title: 'Price change R% change',
				field: 'DailyMovementValue',
				template: '#if (DailyMovementValue !== 0) {if (DailyMovementValue > 0) {# <div class="text-green right">#= DailyMovementValueFormatted #</div> #}#  #if (DailyMovementValue < 0) {# <div class="text-red right">#= DailyMovementValueFormatted #</div> # }} if (DailyMovementPercentage !== 0) {if (DailyMovementValue > 0) {# <br/><div class="text-green right">#= DailyMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-up"></i></div> #}#  #if (DailyMovementValue < 0) {# <br/><div class="text-red right">#= DailyMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-down"></i></div> # }} else {# <div class="right">#= DailyMovementValueFormatted #</div><br /><div class="right">#= DailyMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-right"></i></div> #}#',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.TodaysMovementPercentageChangeFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}, {
				title: 'Profit / Loss R',
				field: 'DailyProfitAndLoss',
				template: '<div class="right">#= DailyProfitAndLossFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.TodaysMovementProfitLossFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}]
		}, {
			title: 'Total movement',
			headerAttributes: {
				'class': 'center-align-table-text'
			},
			canHide: false,
			columns: [{
				title: 'Price change R% change',
				field: 'TotalMovementValue',
				template: '#if (TotalMovementValue !== 0) {if (TotalMovementValue > 0) {# <div class="text-green right">#= TotalMovementValueFormatted #</div> #}#  #if (TotalMovementValue < 0) {# <div class="text-red right">#= TotalMovementValueFormatted #</div> # }} if (TotalMovementPercentage !== 0) {if (TotalMovementValue > 0) {# <br/><div class="text-green right">#= TotalMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-up"></i></div> #}#  #if (TotalMovementValue < 0) {# <br/><div class="text-red right">#= TotalMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-down"></i></div> # }} else {# <div class="right">#= TotalMovementValueFormatted #</div><br /><div class="right">#= TotalMovementPercentageFormatted # &nbsp; <i class="fa fa-caret-right"></i></div> #}#',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.TotalMovementPercentageChangeFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}, {
				title: 'Profit / Loss R',
				field: 'TotalProfitAndLoss',
				template: '<div class="right">#= TotalProfitAndLossFormatted #</div>',
				headerAttributes: {
					'class': 'right-align-table-text'
				},
				footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.TotalMovementProfitLossFormatted}}</div>',
				attributes: {
					'class': '#= HasError ? "error" : "" #'
				}
			}]
		}, {
			title: 'Initial margin R',
			field: 'InitialMargin',
			template: '<div class="right">#= InitialMarginFormatted #</div>',
			headerAttributes: {
				'class': 'right-align-table-text'
			},
			footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.InitialMarginFormatted}}</div>',
			attributes: {
				'class': '#= HasError ? "error" : "" #'
			},
			canHide: true
		}, {
			title: '% of portfolio',
			field: 'PercentageOfPortfolio',
			template: '<div class="right">#= PercentageOfPortfolioFormatted #</div>',
			headerAttributes: {
				'class': 'right-align-table-text'
			},
			footerTemplate: '<div class="right">{{PortfolioOverview.holdingsTotals.PercentagePortfolioFormatted}}</div>',
			attributes: {
				'class': '#= HasError ? "error" : "" #'
			},
			canHide: true
		}, {
			title: 'On expiry',
			field: 'CloseoutOptionIdFormatted',
			template: '<div class="right">#= CloseoutOptionIdFormatted #</div>',
			headerAttributes: {
				'class': 'right-align-table-text'
			},
			attributes: {
				'class': '#= HasError ? "error" : "" #'
			},
			canHide: true
		}]
	};

	$scope.cars = [{id:1, name: 'Previous close / MTM'}, {id:2, name: 'Todays movement'}, {id:3, name: 'Total movement'}, {id:4, name: 'Initial margin'}, {id:5, name: '% of portfolio'}];
	$scope.selectedCar = [];
});	